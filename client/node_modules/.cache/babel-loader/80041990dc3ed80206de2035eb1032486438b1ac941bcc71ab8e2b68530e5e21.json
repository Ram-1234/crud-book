{"ast":null,"code":"var _jsxFileName = \"/Users/ramnayan/react/crud-book/client/src/components/form/index.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useForm } from \"react-hook-form\";\nimport * as yup from \"yup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst validationSchema = yup.object().shape({\n  title: yup.string().required('Book title required'),\n  auther: yup.string().required('Book Auther required'),\n  summary: yup.string().required(\"Book Summary required!\")\n});\nfunction Farm(props) {\n  _s();\n  const {\n    title,\n    summary,\n    auther,\n    setUpdateBook,\n    update,\n    _id\n  } = props;\n  const [submited, setSubmitted] = useState(false);\n  const {\n    handleSubmit,\n    formState: {\n      errors\n    },\n    watch,\n    reset,\n    register,\n    setValue\n  } = useForm({\n    defaultValues: {\n      title: title,\n      auther: auther,\n      summary: summary\n    },\n    validationSchema\n  });\n  const onChange = () => {\n    setSubmitted(false);\n  };\n\n  /** submit book */\n  const onSubmit = async formData => {\n    try {\n      console.log('form Data', formData);\n      if (update) {\n        const resp = await fetch(\"/updatebook\", {\n          method: \"POST\",\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            _id: _id,\n            updateData: formData\n          })\n        });\n        if (resp.ok) {\n          alert('Form data updated successfully');\n          setSubmitted(true);\n          reset(() => ({\n            title: \"\",\n            auther: \"\",\n            summary: \"\"\n          }));\n          setUpdateBook(false);\n        } else {\n          console.error('Error submitting form data');\n          setSubmitted(true);\n        }\n        return;\n      }\n      const response = await fetch(\"/addbook\", {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n      if (response.ok) {\n        alert('Form data submitted successfully');\n        setSubmitted(true);\n        reset(() => ({\n          title: \"\",\n          auther: \"\",\n          summary: \"\"\n        }));\n        setUpdateBook(false);\n      } else {\n        console.error('Error submitting form data');\n        setSubmitted(true);\n      }\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container col-6 border border-grey m-auto mt-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"header mb-3 mt-2\",\n        children: \"Book Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(onSubmit),\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Book Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control text-center\",\n            onChange: onChange,\n            id: \"title\",\n            ...register(\"title\"),\n            name: \"title\",\n            \"aria-describedby\": \"booktitleHelp\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Book Auther\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            ...register('auther'),\n            onChange: onChange,\n            className: \"form-control text-center\",\n            id: \"auther\",\n            name: \"auther\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Book Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"form-control\",\n            ...register('summary'),\n            onChange: onChange,\n            id: \"summary\",\n            name: \"summary\",\n            rows: \"4\",\n            cols: \"50\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this), submited && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            font: \"12px\",\n            color: \"green\",\n            margin: \"0\",\n            padding: \"0\"\n          },\n          children: \"Form Successfuly submitted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 32\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary mb-2\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(Farm, \"7eMkRj0ZCvWu1maRxlqXPYrC6Zs=\", false, function () {\n  return [useForm];\n});\n_c = Farm;\nexport default Farm;\nvar _c;\n$RefreshReg$(_c, \"Farm\");","map":{"version":3,"names":["React","useState","useForm","yup","jsxDEV","_jsxDEV","Fragment","_Fragment","validationSchema","object","shape","title","string","required","auther","summary","Farm","props","_s","setUpdateBook","update","_id","submited","setSubmitted","handleSubmit","formState","errors","watch","reset","register","setValue","defaultValues","onChange","onSubmit","formData","console","log","resp","fetch","method","headers","body","JSON","stringify","updateData","ok","alert","error","response","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","id","name","rows","cols","style","font","color","margin","padding","_c","$RefreshReg$"],"sources":["/Users/ramnayan/react/crud-book/client/src/components/form/index.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useForm} from \"react-hook-form\";\nimport * as yup from \"yup\";\n\n\nconst validationSchema = yup.object().shape({\n    title: yup.string().required('Book title required'),\n    auther: yup.string().required('Book Auther required'),\n    summary: yup.string().required(\"Book Summary required!\"),\n});\n\nfunction Farm(props) {\n  const {title, summary, auther, setUpdateBook, update,_id}=props;\n  const [submited, setSubmitted]= useState(false);\n\n    const {  handleSubmit, formState: { errors }, watch,reset,register,setValue } = useForm({\n      defaultValues:{title:title, auther:auther, summary:summary},\n        validationSchema,\n    });\n  \n    const onChange = ()=>{\n      setSubmitted(false);\n    }\n\n    /** submit book */\n    const onSubmit = async (formData) => {\n        try {\n          console.log('form Data', formData);\n          if(update){\n            const resp = await fetch(\"/updatebook\",{\n              method:\"POST\",\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              body: JSON.stringify( {_id:_id, updateData:formData}),\n            })\n\n            if (resp.ok) {\n              alert('Form data updated successfully');\n              setSubmitted(true)\n                reset(()=>({title:\"\", auther:\"\", summary:\"\"}))\n                setUpdateBook(false);\n            } else {\n              console.error('Error submitting form data');\n              setSubmitted(true)\n            }\n            return \n          }\n\n\n          const response = await fetch(\"/addbook\", {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify( formData),\n          });\n\n\n\n          if (response.ok) {\n            alert('Form data submitted successfully');\n            setSubmitted(true)\n              reset(()=>({title:\"\", auther:\"\", summary:\"\"}))\n              setUpdateBook(false);\n          } else {\n            console.error('Error submitting form data');\n            setSubmitted(true)\n          }\n        } catch (error) {\n          console.error('Error:', error);\n        }\n      }\n\n    return (\n        <>\n        <div className='container col-6 border border-grey m-auto mt-2'>\n            <h4 className='header mb-3 mt-2'>Book Details</h4>\n            <form onSubmit={handleSubmit(onSubmit)} className='form'>\n                <div className=\"mb-3\">\n                    <label  className=\"form-label\">Book Title</label>\n                        <input type=\"text\" className=\"form-control text-center\" onChange={onChange} id=\"title\" {...register(\"title\")} name=\"title\" aria-describedby=\"booktitleHelp\" required />\n                    {/* <div id=\"booktitleHelp\" className=\"form-text\">We'll never share your email with anyone else.</div> */}\n                </div>\n                <div className=\"mb-3\">\n                    <label className=\"form-label\">Book Auther</label>\n                        <input type=\"text\" {...register('auther')} onChange={onChange} className=\"form-control text-center\" id=\"auther\" name=\"auther\" required />\n                </div>\n                <div className=\"mb-3\">\n                    <label className=\"form-label\">Book Summary</label>\n                        <textarea className=\"form-control\" {...register('summary')} onChange={onChange} id=\"summary\" name=\"summary\" rows=\"4\" cols=\"50\"  required={true} />\n                </div>\n                  {submited && <p style={{font:\"12px\", color:\"green\", margin:\"0\", padding:\"0\"}}>Form Successfuly submitted</p>}\n                <button type=\"submit\" className=\"btn btn-primary mb-2\">Submit</button>\n            </form>\n        </div>\n        </>\n    )\n}\n\nexport default Farm;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}